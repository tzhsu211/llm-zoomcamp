# Project Overview

This project addresses the challenge of selecting the right nutritional supplements from the vast array available in the market. It provides an app where users can ask questions about nutritional supplements, and the model offers tailored product recommendations based on individual needs.

This is a project for [LLM Zoomcamp](https://github.com/DataTalksClub/llm-zoomcamp).

## Workflow

<kbd><![image](https://github.com/user-attachments/assets/9312d475-ee30-4470-a308-bcc8c5b2babb)/></kbd>

When the project is running, the user experience will follow these steps:

1. **User Input**: The user enters their question regarding nutritional supplements.
2. **Vegan Option**: Users can indicate whether they are vegan by checking a box.
3. **Model Selection**: Users select the desired model for generating responses.
4. **API Input**: Users provide their API key if necessary.
5. **Submit Query**: Users submit their questions to receive tailored recommendations.
6. **Feedback**: Users can give feedback on the model's responses with thumbs up or thumbs down.

## Dataset
All data is in the `data` folder.
### Supplement.json
Data for 53 different types of nutritional supplements has been generated using ChatGPT. Each entry in the dataset includes the following fields:
* name: The name of the nutritional supplement.
* purpose: The primary purpose of the nutritional supplement, explaining its benefi ts.
* who_should_not_use: A description of individuals who should avoid the supplement due to potential health risks.
* common_side_effects: A list of common side effects associated with the supplement.
* recommended_dosage: The suggested daily dosage for optimal benefits.
* source: Information about the origin of the supplement (e.g., synthetic, natural).
* vegan_friendly: A boolean value indicating whether the supplement is suitable for vegans.

Below is an example of the dataset in JSON format:
``` json
{
    "name": "Vitamin C",
    "purpose": "Immune support and antioxidant",
    "who_should_not_use": "People with kidney stones",
    "common_side_effects": "Gastrointestinal upset, headache",
    "recommended_dosage": "500-1000 mg daily",
    "source": "Synthetic",
    "vegan_friendly": true
}

```

### supplemet_extended_question
There are two files containing extended questions about supplements: one generated by ChatGPT and another by Google Gemini Pro.
Example entry:
``` json
"Vitamin C": {
    "questions": [
        "I am experiencing gastrointestinal upset and headaches. Could these symptoms be related to a supplement, and are there common dietary recommendations to reduce these issues?",
        "I have a history of kidney stones. Are there any supplements I should avoid in this case?",
        "I want to boost my immune system and improve my antioxidant levels. What are common supplements or lifestyle changes that can support these health goals?",
        "When choosing supplements for immune support and antioxidants, what are the key benefits to consider?",
        "For someone with kidney stones, what supplements might pose health risks, and how can these risks be effectively managed?"
    ]
}
```

## Technologies
* python 3.9
* Docker
* Elasetic search (hybrid search including knn and keyword search)
* Grafana monitoring
* LLM: Google Gemini Pro and Ollama Phi-3

## Set up
This app is fully encapsulated within a Docker container. Before running it, follow these steps:
1. Set up the `.env` file: Configure your environment variables.
2. Run Docker Compose: Execute the following command to build and start the app
``` bash
docker-compose up -d --build
```

### Operations Performed in Docker
1. Setting up the environment with Python 3.9 slim
2. Installing the necessary modules
3. Configuring Ollama and pulling the Phi-3 model (this may take some time).
4. Verifying the Elasticsearch setup
5. Verifying PostgreSQL setup
6. Running `app.py`
